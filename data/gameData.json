{
    "gameName": "Escape from Project Three",
    "lookAction": "Look around again.",
    "examineAction": "Examine the",
    "pickupAction": "Pick up the",
    "emptyPockets": "Your pockets are empty.",
    "startLocation": "dungeonCell",
    "firstMessage": "You awaken after what feels like a very long slumber...",
    "dungeonCell": {
        "name": "Dungeon Cell",
        "description": "You find yourself in a cold and dark dungeon cell. Moonlight comes in through the barred window, and dampness accumulates on the cold walls. There's strange etchings carved into the wall above the cell's bed. You have no recollection of how you got here, but it probably kind of sucked.",
        "img": "assets/dungeonCell.png",
        "items": {
            "key": {
                "description": "On the ground, there is a golden key. It glistens in the moonlight.",
                "itemDescription": "It is a shiny gold key. It is very well crafted, and very heavy. It feels like it would probably pair well with a massive cell door.",
                "result": "You pick up the key, and feel empowered about your future.",
                "canPickUp": true
            },
            "etchings": {
                "itemDescription": "Scratched into the walls are the words \"Help, I'm trapped in a JavaScript Factory\". Who could have written this?"
            }
        },
        "actions": [
            {
                "action": "Look out the window.",
                "result": "You peak out through the window...",
                "forceDescription": "The Moon glows bright in the night sky. It is a full Moon, illuminating a foreboding forest around this mysterious prison."
            },
            {
                "ifNot": ["lighter"],
                "action": "Examine the bed.",
                "result": "You examine the bed...",
                "forceDescription": [
                    "The bed appears to have been heavily used. How long have you been here?",
                    "You found a lighter hidden under the pillow!"
                ],
                "addInventory": "lighter",
                "itemDescription": "A clunky brass lighter with a flip top. A pair of curly braces are etched into it's exterior."
            },
            {
                "if": ["lighter"],
                "action": "Examine the bed.",
                "result": "You examine the bed...",
                "forceDescription": [
                    "The bed appears to have been heavily used. How long have you been here?",
                    "There doesn't appear to be anything else hidden here."
                ]
            },
            {
                "ifNot": ["cellOpen"],
                "action": "Open cell door.",
                "result": "You try to open the door, but it is locked shut. It's wrought iron bars will not yield, however hard you pull!"
            },
            {
                "if": ["key"],
                "ifNot": ["cellOpen"],
                "needsItem": true,
                "action": "Unlock cell door using the key.",
                "result": "You unlock the cell door. It makes a very satisfying clinking sound. The cell door swings open!",
                "addFlag": "cellOpen",
                "removeInventory": "key"
            },
            {
                "if": ["cellOpen"],
                "action": "Walk out through cell door.",
                "result": "You walk out of the cell!",
                "setLocation": "dungeonHall"
            }
        ]
    },
    "dungeonHall": {
        "name": "Dungeon Hallway",
        "img": "assets/dungeonHallDark.png",
        "conditionalDescriptions" : [
            {
                "if":["torch"],
                "img": "assets/dungeonHallLight.png",
                "description": "Your torchlight flickers down the otherwise barely lit hallway. There are a total of four dungeon cells here, in addition to the one you awakened in. The floor and walls are smoothly cut granite. In the light, you can see that the hallway extends to the north, before taking a hard right turn."
            },
            {
                "ifNot":["torch"],
                "description": "The hallway beyond the cell door is dark and foreboding. From the moonlight coming in through the windows, you can see that there are three cells in addition to the one you awakened in. However, it is far too dark to see anything else."
            }
        ],
        "actions": [
            {
                "ifNot":["torch"],
                "description": "There is an unlit torch affixed to the wall.",
                "action": "Examine the torch.",
                "result": "You take a look at the torch...",
                "forceDescription": "It's a short iron staff with one end wrapped in cloth. It looks like it's soaked with a flammable liquid, if only you could light it..."
            },
            {
                "if":["lighter"],
                "ifNot":["torch"],
                "action": "Ignite the torch with the lighter.",
                "needsItem": true,
                "result": "You set the torch aflame!",
                "examineRoom": true,
                "addInventory": "torch",
                "itemDescription": "It's a short iron staff with one end aflame. It's light helps you see your surroundings."
            },
            {
                "action": "Return to the dungeon cell.",
                "result": "You walk back into your former dungeon cell. Being here sends shivers down your spine.",
                "setLocation": "dungeonCell"
            },
            {
                "if": ["torch"],
                "action": "Go north along the hallway.",
                "result": "You walk north along the hallway, and turn the corner...",
                "setLocation": "atrium"
            }
        ]
    },
    "atrium": {
        "name": "The Atrium",
        "img": "assets/atrium.png",
        "description": "You find yourself in a large atrium. A glass covered skylight lets the light of the moon shimmer down into the area. Your torch light flickers along many large murals depicting creatures that almost look demonic. Four stone pillars hold the ceiling aloft, several storeys up. An archway leads into the hallways towards the dungeon cells, and another archway leads north towards another room. Small chunks of what appears to be coal litter the ground.",
        "items": {
            "coal": {
                "itemDescription": "This 'coal' is extremely similar to the coal you know and love, but upon closer inspection doesn't quite match it. The shape is wrong, and it kind of smells like... cat?"
            },
            "murals": {
                "itemDescription": "These murals are enormous depictions of creatures with enormous horns, and red eyes. They all seem to be smiling. Text below the murals reads \"Praise be to floats! Hail to clearfix!\"."
            }
        },
        "actions" : [
            {
                "ifNot": ["triedToLeave","catFriend"],
                "description": "One large archway leads eastwards. You can smell the fresh forest air just beyond it. Could it be a way out?",
                "action": "Walk east and exit this vile place.",
                "result": "You start to walk east, when suddenly a small gray haired creature appears...",
                "forceDescription": [
                    "It is a cat! Small, gray haired. Your first instinct is to walk towards them, when they glance towards you and you see their eyes glow red like embers. Smoke billows from them at their every breath.",
                    "At the sight of you, their tail wiggles. They let out a rumbling sound that shakes your core, like a monstrous cacophany echoing from the deepest, darkest abyss:",
                    "\"MEOW!!! =^.^=\""
                ],
                "addFlag": "triedToLeave"
            },
            {
                "if": ["triedToLeave"],
                "ifNot": ["catFriend"],
                "description": "The cat demon sits directly between you and the dungeon exit. They block your way. You must find a way to appease the cat.",
                "action": "Talk to the cat demon.",
                "result": "Uneasily, you approach the cat demon...",
                "setLocation": "catDemon"
            },
            {
                "action": "Explore towards the north.",
                "result": "You walk north through the archway, into a strange room...",
                "setLocation": "puzzleRoom"
            }
        ]
    },
    "puzzleRoom": {
        "name": "Clockwork Computer Room",
        "img": "assets/clockworkComputer.png",
        "conditionalDescriptions": [
            {
                "if":["powerButton"],
                "ifNot":["treatDeposited"],
                "description": "This strange room is dominated by an enormous contraption. It has hundreds of cogs and gears, spinning wildly. A steam motor chugs along, periodically letting out a loud tooting sound, and several levers stick out for a user to operate. There is a cacophony of sound, almost musical, while the machine works towards whatever strange purpose it might have."
            },
            {
                "ifNot": ["powerButton"],
                "description": "This strange room is dominated by an enormous contraption. It has hundred of cogs, and an enormous water tank. It looks as though it hasn't been turned on in decades."
            },
            {
                "ifNot":["treatDeposited"],
                "description": "At the base on the machine is an empty dish, covered with eons old claw marks."
            },
            {
                "if": ["treatDeposited"],
                "description": "This strange room is dominated by an enormous contraption. It has hundred of cogs, and an enormous water tank. Steam is venting from the machine as it cools down from its recent activity."
            },
            {
                "if": ["kitty treat"],
                "description": "At the base of the machine is an empty dish. You suspect it has received its quota of treats for the day."
            }
        ],
        "actions": [
            {
                "if": ["treatDeposited"],
                "ifNot": ["kitty treat"],
                "action": "Take the kitty treat.",
                "result": "You pick up the kitty treat! You can feel it pulse in your hands with unholy magic.",
                "description": "You notice a large and juicy looking kitty treat in the machine's dish!",
                "addInventory": "kitty treat",
                "itemDescription": "It is a big and juicy kitty treat. It is ball shaped and brown in colour. Disconcertingly, the smell reminds you of the souls of the damned."
            },
            {
                "ifNot": ["powerButton"],
                "description": "There is a big red button in the middle of the machine.",
                "action": "Push the big red button.",
                "result": "You push the big red button. With a loud creaking noise, the machine begins to operate! Centuries old clockwork bursts into motion, and you are almost deafened by the sound of venting steam!",
                "addFlag": "powerButton",
                "examineRoom": true
            },
            {
                "ifNot": ["treatDeposited","redLever"],
                "if": ["powerButton"],
                "description": "The end of a red lever glows, inviting you to pull it.",
                "action": "Pull the red lever.",
                "result": "You pull the red lever. It's light goes out. A yellow lever and a blue lever light up!",
                "addFlag": "redLever"
            },
            {
                "ifNot": ["treatDeposited","yellowLever"],
                "if": ["redLever"],
                "description": "One of the yellow levers is glowing, ready to be pulled.",
                "action": "Pull the yellow lever.",
                "result": "You pull the yellow lever. It's light goes out. The blue lever remains on, and the red lever reactivates!",
                "addFlag": "yellowLever"
            },
            {
                "ifNot": ["treatDeposited","yellowLever"],
                "if": ["redLever"],
                "description": "A blue lever glows, as if begging to be pulled!",
                "action": "Pull the blue lever.",
                "result": "You pull the blue lever. Both it and the yellow lever flicker off! The red lever lights up once more.",
                "removeFlag": "redLever"
            },
            {
                "ifNot": ["treatDeposited","blueLever"],
                "if": ["yellowLever"],
                "description": "The blue lever is glowing!",
                "action": "Pull the blue lever.",
                "result": "You pull the blue lever. It's light goes out. The big red button in the center of the machine starts to flash!",
                "addFlag": "blueLever"
            },
            {
                "ifNot": ["treatDeposited","blueLever"],
                "if": ["yellowLever"],
                "description": "The red lever glows brightly!",
                "action": "Pull the red lever.",
                "result": "You pull the red lever. The blue light flickers off, but the red lever remains glowing.",
                "removeFlag": ["yellowLever","redLever"]
            },
            {
                "ifNot": ["treatDeposited"],
                "if": ["blueLever"],
                "description": "The big red button is flashing rapidly!",
                "action": "Push the big red button again.",
                "result": "You push the big red button! With a thunk, an object is deposited into the bowl beneath the machine, and the whole contraption grinds to a halt!",
                "addFlag": "treatDeposited",
                "examineRoom": true
            },
            {
                "ifNot": ["treatDeposited"],
                "if": ["blueLever"],
                "description": "The red lever glows brightly!",
                "action": "Pull the red lever.",
                "result": "You pull the red lever. The big red button stops flashing.",
                "removeFlag": ["yellowLever","redLever","blueLever"]
            },
            {
                "action": "Return to the atrium.",
                "result": "You walk through the archway and return to the atrium...",
                "setLocation": "atrium"
            }
        ]
    },
    "catDemon": {
        "name": "The Cat Demon",
        "description": "Sitting before you is the most fiendish cat you have ever seen. With long gray hair, and eyes that glow like the pits of hell itself.",
        "img": "assets/demonCat.jpg",
        "actions": [
        ]
    },
    "outside": {
        "name": "Freedom!",
        "description": "You are outside! You have escaped from the dungeon and are free!",
        "img": "https://placekitten.com/400/400",
        "actions": []
    }
}